<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Blue Brain BioExplorer: Docker</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../BBBE_icon_64.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Blue Brain BioExplorer
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d8/d7e/md_DOCKER.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Docker </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><blockquote class="doxtable">
<p>Use <a href="https://docs.docker.com">Docker</a> to run the Blue Brain BioExplorer as a service and avoid painful tooling setup. </p>
</blockquote>
<h1><a class="anchor" id="autotoc_md53"></a>
Prerequisites</h1>
<p>Head over to <a href="https://docs.docker.com/engine/installation/#supported-platforms">Docker</a> and install Docker for your own platform.</p>
<h1><a class="anchor" id="autotoc_md54"></a>
Setup</h1>
<p>First build the image (<em>it's necessary to do this step if you want to run Brayns</em>): </p><div class="fragment"><div class="line">docker build . -t bioexplorer</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md55"></a>
Usage</h1>
<p>By default, the entrypoint when running the image is <code>braynsService</code>, but if you want to ssh into the container use: </p><div class="fragment"><div class="line"># `-p 5000:5000` is used only to provide some port bindings (host:container) if you want to run and access Brayns from your host while in the container</div>
<div class="line">docker run -ti --rm --entrypoint bash -p 5000:5000 bioexplorer</div>
</div><!-- fragment --><p>If you want to run the Blue Brain BioExplorer without a database, use: </p><div class="fragment"><div class="line"># Runs the Blue Brain BioExplorer as a service with the HTTP interface bound to port 5000</div>
<div class="line">docker run -ti --rm -p 5000:5000 bioexplorer</div>
</div><!-- fragment --><p>If you want to run the Blue Brain BioExplorer with a database use: </p><div class="fragment"><div class="line"># Runs the Blue Brain BioExplorer as a service with the HTTP interface bound to port 5000</div>
<div class="line">docker run -ti --rm -p 5000:5000 bioexplorer --http-server :5000 --plugin &quot;BioExplorer --db-name=bioexplorer --db-password=bioexplorer --db-user=postgres --db-host=&lt;ip address&gt; --db-port=5432&quot; --plugin MediaMaker</div>
</div><!-- fragment --><p>Replace <code>&lt;ip address&gt;</code> with the IP address of the host where the database docker container is running. Refer to the database Docker readme for more information on how to set up and populate the the Blue Brain BioExplorer database with publicly available datasets.</p>
<p><b>NOTE</b> If you are having trouble exiting the process after you run the container (with the above command), use <code>docker stop &lt;container-id&gt;</code> to stop the container. <code>docker ps</code> will give you the current running process.</p>
<p>If you'd like to also run the UI, use <a href="https://docs.docker.com/get-started/part5">docker stack</a>: </p><div class="fragment"><div class="line"># UI on port 8000 and Python SDK on port 8888</div>
<div class="line">docker stack deploy -c docker-compose.yml bioexplorer</div>
</div><!-- fragment --><p><b>NOTE</b> You have to build both the UI and API images (using <code>docker-compose build</code>) before you can run them using stacks.</p>
<p>Run the Blue Brain BioExplorer with the HTTP interface bound to a different port: </p><div class="fragment"><div class="line">docker run -ti --rm -p 5000:5000 bioexplorer --http-server :5000</div>
</div><!-- fragment --><p>Provide other flags (or env vars) to <code>braynsService</code>: </p><div class="fragment"><div class="line">docker run -ti --rm -p 5000:5000 bioexplorer \</div>
<div class="line">    --http-server :5000 \</div>
<div class="line">    --plugin BioExplorer</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
